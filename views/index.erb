<!DOCTYPE html>
<html>
<head><meta charset="UTF-8" />
<title>websocket ruby test</title>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script> 
<script type="text/javascript">
$(function(){
    "use strict";
    var ws_url = ((location.protocol === "https:")? "wss:" : "ws:") + location.host + "/socket";
    var ws = new WebSocket(ws_url);
    $("#send").on('click', function(){
        ws.send($('#message').val());
    });

    ws.onmessage = function(event){
        var message_li = $('<li>').text(event.data);
        $("#msg-area").append(message_li);
    };
});
</script>
</head>
<body>
<input type="text" id="message" />
<input type="button" id="send" value="send"/>
<ul id="msg-area" />
</body>
</html>
